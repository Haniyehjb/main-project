#include <stdio.h>
#include <stdbool.h>
#include <windows.h> 
#include <time.h>
#include <conio.h> 

void gotoxy(int x, int y) {
    COORD coord;
    coord.X = x;
    coord.Y = y;
    SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), coord);

}
// ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø­Ø±Ú©Øª Ú©Ø§Ø±Ø§Ú©ØªØ±
void move_character(int *i, int *j, char ch, char mat[][128]) {
    gotoxy(*j*2 ,*i);
    mat[*i][*j] = ' ';
    
    // Ø­Ø±Ú©Øª Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø± Ø§Ø³Ø§Ø³ ÙˆØ±ÙˆØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø±
    if (ch == 'd' && *j < 127 && (mat[*i][*j + 1] == ' ' || mat[*i][*j + 1] == 8 || mat[*i][*j + 1] == 9 || mat[*i][*j + 1] == 3 || mat[*i][*j + 1] == '#')) {
        (*j)++;  // Ø­Ø±Ú©Øª Ø¨Ù‡ Ø±Ø§Ø³Øª
    } else if (ch == 'a' && *j > 0 && (mat[*i][*j - 1] == ' ' || mat[*i][*j - 1] == 8 || mat[*i][*j - 1] == 9 || mat[*i][*j - 1] == 3 || mat[*i][*j - 1] == '#')) {
        (*j)--;  // Ø­Ø±Ú©Øª Ø¨Ù‡ Ú†Ù¾
    } else if (ch == 's' && *i < 13 && (mat[*i + 1][*j] == ' ' || mat[*i + 1][*j] == 8 || mat[*i + 1][*j] == 9 || mat[*i + 1][*j] == 3 || mat[*i + 1][*j] == '#')) {
        (*i)++;  // Ø­Ø±Ú©Øª Ø¨Ù‡ Ù¾Ø§ÛŒÛŒÙ†
    } else if (ch == 'w' && *i > 0 && (mat[*i - 1][*j] == ' ' || mat[*i - 1][*j] == 8 || mat[*i - 1][*j] == 9 || mat[*i - 1][*j] == 3 || mat[*i - 1][*j] == '#')) {
        (*i)--;  // Ø­Ø±Ú©Øª Ø¨Ù‡ Ø¨Ø§Ù„Ø§
    } 
    

    // Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù† Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¯Ø± Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬Ø¯ÛŒØ¯
    mat[*i][*j] = '#';
}



// ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ú†Ø§Ù¾ Ø´Ø¨Ú©Ù‡ (Ù‡Ù…Ø§Ù†â€ŒØ·ÙˆØ± Ú©Ù‡ Ù‚Ø¨Ù„Ø§Ù‹ ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø§Ø³Øª)
void print_grid(char mat[][128]) {
    for (int i = 0; i < 14; ++i) {
        for (int j = 0; j < 128; ++j) {
            if (mat[i][j] == 1) {
                printf("ğŸ§±");  // Ø¯ÛŒÙˆØ§Ø±
            } else if (mat[i][j] == 2) {
                printf("ğŸŸ©");  // Ú†Ù…Ù†
            } else if (mat[i][j] == 3) {
                printf("ğŸª™ ");  // Ø³Ú©Ù‡
            } else if (mat[i][j] == 4) {
                printf("ğŸŒ±");  // Ú¯ÛŒØ§Ù‡
            } else if (mat[i][j] == 6) {
                printf("ğŸŸª");  // Ø¨Ù†ÙØ´
            } else if (mat[i][j] == 5) {
                printf(" ğŸ™");  // Ø§Ø®ØªØ§Ù¾ÙˆØ³
            } else if (mat[i][j] == 7) {
                printf("ğŸ¦–");  // Ø¯Ø§ÛŒÙ†Ø§Ø³ÙˆØ±
            } else if (mat[i][j] == 8) {
                printf("ğŸŸ§");  // Ù†Ø§Ø±Ù†Ø¬ÛŒ
            } else if (mat[i][j] == 9) {
                printf("ğŸŸ¨");  // Ø²Ø±Ø¯
            } else if (mat[i][j] == '!') {
                printf("ğŸš©");  // Ù¾Ø±Ú†Ù…
            } else if (mat[i][j] == '#') {
                printf("ğŸ¥¸");  // Ú©Ø§Ø±Ø§Ú©ØªØ± Ø§ØµÙ„ÛŒ
            } else if (mat[i][j] == ' ') {
                printf("  ");  // ÙØ¶Ø§ÛŒ Ø®Ø§Ù„ÛŒ
            }
        }
        printf("\n");  // Ø±ÙØªÙ† Ø¨Ù‡ Ø®Ø· Ø¨Ø¹Ø¯ÛŒ Ù¾Ø³ Ø§Ø² Ú†Ø§Ù¾ Ù‡Ø± Ø³Ø·Ø±
    }
}

int main() {
    // ØªØ¹Ø±ÛŒÙ Ø´Ø¨Ú©Ù‡ (Ù‡Ù…Ø§Ù†â€ŒØ·ÙˆØ± Ú©Ù‡ Ù‚Ø¨Ù„Ø§Ù‹ ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø§Ø³Øª)
    char mat[14][128] = {
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
        {1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 2, 2, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', 1},
        {1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 2, 2, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', 1},
        {1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 2, 2, 2, 2, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 4, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ' ,' ', 1},
        {1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '!', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 3, 3, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 6, 6, 6, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 1},
        {1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 1, 1, 1, ' ', ' ', ' ', ' ', ' ', ' ', 1, 1, 1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 6, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 1},
        {1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 1, 1, 1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 6, 6, 6, ' ', 6, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 1},
        {1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 6, ' ', ' ', 6, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',' ', ' ', ' ', 1},
        {1, ' ', ' ', ' ', 1, 1, 1, ' ', 3, 3, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 4, ' ', ' ', 6, ' ', ' ', 6, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 1},
        {1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', 1, 1, 9, 1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',6, 6, 6, ' ', 6, ' ', ' ', 6, ' ', ' ', ' ', ' ', ' ', ' ', ' ', 1, 8, 8, 1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 1},
        {1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 1, 1, 1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 6, ' ', ' ', 6, ' ', ' ', 6, ' ', ' ', ' ', ' ', ' ', ' ', ' ', 1, ' ', ' ', 1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', 2, 2, 2, 1},
        {1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ',6, 6, 6, ' ', 6, ' ', ' ', 6, ' ', ' ', 6, ' ', ' ', ' ', ' ', ' ', ' ', ' ', 1, ' ', ' ', 1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 2, ' ', 1},
        {1, ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 3, 3, ' ', ' ', ' ', ' ', ' ',5,' ', ' ', ' ', ' ', ' ', ' ', ' ', 6, ' ', 7, 6, ' ' ,7, 6, ' ', 7, 6, ' ', 7, ' ', ' ',' ', ' ', ' ', 1, ' ', ' ', ' ', ' ', ' ', ' ', ' ', 5, 5, ' ', 2, ' ' , 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
    };
    
    int char_i = 12, char_j = 2;  // Ù…ÙˆÙ‚Ø¹ÛŒØª Ø§ÙˆÙ„ÛŒÙ‡ Ú©Ø§Ø±Ø§Ú©ØªØ±
    
    print_grid(mat);  // Ú†Ø§Ù¾ Ø§ÙˆÙ„ÛŒÙ‡ Ø´Ø¨Ú©Ù‡

    char input;
  while (1) {
        
        if (_kbhit()) { // Ø¨Ø±Ø±Ø³ÛŒ Ø¢ÛŒØ§ Ú©Ù„ÛŒØ¯ÛŒ ÙØ´Ø§Ø± Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª ÛŒØ§ Ø®ÛŒØ±
            input = _getch(); // Ú¯Ø±ÙØªÙ† Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø¯ÙˆÙ† Ù†Ù…Ø§ÛŒØ´ Ø¢Ù† Ø¯Ø± ØµÙØ­Ù‡
        move_character(&char_i, &char_j, input, mat);  // Ø­Ø±Ú©Øª Ú©Ø§Ø±Ø§Ú©ØªØ±
        
        print_grid(mat);  // Ú†Ø§Ù¾ Ø´Ø¨Ú©Ù‡ Ù¾Ø³ Ø§Ø² Ø­Ø±Ú©Øª
        Sleep(500);  // ØªØ§Ø®ÛŒØ± Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¨Ù‡ØªØ± Ø­Ø±Ú©Øª
    }
    }

    return 0;
}